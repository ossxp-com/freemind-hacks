From: Jiang Xin <jiangxin@moon.ossxp.com>
Subject: [PATCH] t/linux_dist_build

Build as debian/ubuntu package, build file bugfix.

Signed-off-by: Jiang Xin <jiangxin@moon.ossxp.com>

---
 build.xml |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/build.xml b/build.xml
index 3031a11..a8cdd32 100644
--- a/build.xml
+++ b/build.xml
@@ -152,6 +152,8 @@
 		     classpath problems of the plugins. -->
 			<exclude name="tests/**" />
 			<exclude name="plugins/**" />
+			<exclude name="debian/**" />
+			<exclude name=".pc/**" />
 		</javac>
 		<!-- Starter should work with java 1.1, too as it checks the java version.-->
 		<delete failonerror="false" file="${build}/freemind/main/FreeMindStarter.class"></delete>
@@ -173,6 +175,7 @@
 		<copy todir="${dist}">
 			<fileset dir="${src}/windows-launcher">
 			  <include name="FreeMind.exe"/>
+			  <include name="FreeMind.vanilla.exe"/>
 			</fileset>
 		</copy>
 		<mkdir dir="${dist}/doc" />
@@ -296,7 +299,7 @@
 		<tar tarfile="${post}/freemind-src.tar"
 			longfile="gnu"
 			basedir="${src_base_for_post}"
-			includes="freemind/**,.classpath,.project" excludes="freemind/bin/**" />
+			includes="freemind/**,.classpath,.project" excludes="freemind/bin/**, freemind/.pc/**, freemind/debian/**" />
 		<gzip src="${post}/freemind-src.tar"
 			zipfile="${post}/freemind-src-${ver}.tar.gz" />
 		<delete>
@@ -378,8 +381,8 @@
 				<include name="patterns_updater.xslt"/>
 				<include name="Resources*"/>
 				<include name="mindmap_menus.xml"/>
-				<include name="**/freemind_version_updater.xslt"/>
-				<include name="**/freemind_join_mm_mmx.xslt"/>
+				<include name="freemind/**/freemind_version_updater.xslt"/>
+				<include name="freemind/**/freemind_join_mm_mmx.xslt"/>
 			</fileset>
 		</jar>
 		<ant antfile="${acc_build}" target="jar"/>
-- 
tg: (ce01559..) t/linux_dist_build (depends on: t/load_mm_with_mmx_file)
